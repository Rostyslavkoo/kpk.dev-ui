(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-609508df"],{"108b":function(e,t,r){"use strict";e.exports=function(e){const t=r("5d2a"),n=e?e.preset:"ru",i={"а":"a","б":"b","в":"v","д":"d","з":"z","й":"y","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","ь":""};let a;"ru"===n?Object.assign(i,{"г":"g","и":"i","ъ":"","ы":"i","э":"e"}):"uk"===n&&Object.assign(i,{"г":"h","ґ":"g","е":"e","и":"y","і":"i","'":"","’":"","ʼ":""}),"ru"===n?a=Object.assign(t(i),{i:"и","":""}):"uk"===n&&(a=Object.assign(t(i),{"":""}));const s="ru"===n?{"е":"ye"}:{"є":"ye","ї":"yi"},o={"ё":"yo","ж":"zh","х":"kh","ц":"ts","ч":"ch","ш":"sh","щ":"shch","ю":"yu","я":"ya"},c=Object.assign({},o,s),l=Object.assign(t(c)),u=Object.assign(i,c),d=Object.assign({},i,{"й":"i"});let p;"ru"===n?Object.assign(d,{"е":"e"}):"uk"===n&&Object.assign(d,{"ї":"i"}),"ru"===n?p=Object.assign(t(i),{i:"и",y:"ы",e:"е","":""}):"uk"===n&&(p=Object.assign(t(i),{"":""}));let v={};"uk"===n&&(v={"є":"ie","ю":"iu","я":"ia"});const m=Object.assign(o,v),h=Object.assign(t(m)),f=Object.assign(d,m);function g(e,t){if(!e)return"";const r=e.normalize();let i="",a=!1;for(let s=0;s<r.length;s++){const e=r[s]===r[s].toUpperCase();let o,c=r[s].toLowerCase();" "!==c?("uk"===n&&"зг"===r.slice(s-1,s+1).toLowerCase()?o="gh":0===s||a?(o=u[c],a=!1):o=f[c],"undefined"===typeof o?i+=e?c.toUpperCase():c:e?o.length>1?i+=o[0].toUpperCase()+o.slice(1):i+=o.toUpperCase():i+=o):(i+=t||" ",a=!0)}return i}function b(e,t){if(!e)return"";const r=e.normalize();let n="",i=!1,s=0;while(s<r.length){const e=r[s]===r[s].toUpperCase();let o,c=r[s].toLowerCase(),u=s;if(" "===c||c===t){n+=" ",i=!0,s++;continue}let d=r.slice(s,s+2).toLowerCase();0===s||i?(o=l[d],o?s+=2:(o=a[c],s++),i=!1):(o=h[d],o?s+=2:(o=p[c],s++)),"shch"===r.slice(u,u+4).toLowerCase()?(o="щ",s=u+4):"zgh"===r.slice(u-1,u+2).toLowerCase()&&(o="г",s=u+2),"undefined"===typeof o?n+=e?c.toUpperCase():c:e?o.length>1?n+=o[0].toUpperCase()+o.slice(1):n+=o.toUpperCase():n+=o}return n}return{transform:g,reverse:b}}},1971:function(e,t,r){},"2de3":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"body"},[r("AdminComponent")],1)},i=[],a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"h-auto"},[r("div",{staticClass:"d-flex justify-space-between pb-0 align-center"},[r("v-tabs",{attrs:{color:0===e.listTab?"primary":"green darken-2"},model:{value:e.listTab,callback:function(t){e.listTab=t},expression:"listTab"}},[r("v-tab",[e._v("Користувачі")]),r("v-tab",[e._v("Корисні посилання")]),r("v-tab",[e._v("Історія коледжу")])],1),r("VBtn",{attrs:{rounded:"",color:0===e.listTab?"primary":"green darken-2",outlined:""},on:{click:e.onClickAdd}},[r("VIcon",{attrs:{left:""}},[e._v("mdi-account-plus")]),e._v(" "+e._s(e.getBtnAddText)+" ")],1)],1),r("VDivider"),r("v-tabs-items",{model:{value:e.listTab,callback:function(t){e.listTab=t},expression:"listTab"}},[e.users.length?r("v-tab-item",[r("UsersList",{attrs:{users:e.users},on:{showEdit:e.showEdit,deleteUser:e.deleteUser}})],1):r("v-tab-item",[r("div",{staticClass:"py-10 px-5"},[r("VRow",[r("div",{staticClass:"text-center w-100"},[e._v("Список користувачів порожній")])])],1)]),r("v-tab-item",[r("PartnersList",{attrs:{partners:e.partners},on:{deletePartner:e.deletePartner}})],1),r("v-tab-item",[r("about-col-component")],1)],1),e.visibleUser?r("add-users-dialog",{attrs:{visible:e.visibleUser,chosenUser:e.chosenId},on:{close:function(t){e.visibleUser=!1,e.chosenId=null},addUser:e.addUser,updateUser:e.updateUser}}):e._e(),e.visiblePartner?r("add-partners-dialog",{attrs:{visible:!0},on:{close:function(t){e.visiblePartner=!1},addPartner:e.addPartner}}):e._e(),e.visibleAboutCol?r("edit-info-col-dialog",{attrs:{visible:!0},on:{close:function(t){e.visibleAboutCol=!1},changeInfoCol:e.changeInfoCol}}):e._e()],1)},s=[],o=r("5530"),c=r("1da1"),l=(r("4de4"),r("d3b7"),r("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("VDialog",{attrs:{persistent:e.edit},model:{value:e.visibility,callback:function(t){e.visibility=t},expression:"visibility"}},[r("VCard",{attrs:{width:"700",disable:e.isLoading,loading:e.isLoading}},[e.edit?r("VCardTitle",[e._v(" Редагувати користувача ")]):r("VCardTitle",[e._v(" Додати користувача ")]),r("VCardText",[r("VRow",[r("VCol",{attrs:{cols:"6"}},[r("VTextField",{attrs:{label:"Ім`я","prepend-icon":"mdi-account",outlined:"",dense:"","hide-details":!e.NameError.length,"error-messages":e.NameError},nativeOn:{input:function(t){return e.$v.user.name.$touch()}},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),r("VCol",{attrs:{cols:"6"}},[r("VTextField",{attrs:{label:"Прізвище",outlined:"",dense:"","hide-details":!e.SurnameError.length,"error-messages":e.SurnameError},nativeOn:{input:function(t){return e.$v.user.surname.$touch()}},model:{value:e.user.surname,callback:function(t){e.$set(e.user,"surname",t)},expression:"user.surname"}})],1)],1),r("VRow",[r("VCol",[r("VTextField",{attrs:{label:"Email","prepend-icon":"mdi-email",outlined:"",dense:"","hide-details":!e.EmailError.length,"error-messages":e.EmailError},on:{blur:function(t){return e.$v.user.email.$touch()}},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1)],1),r("VRow",[r("VCol",[r("VTextField",{directives:[{name:"mask",rawName:"v-mask",value:"+38 (###) ##-##-###",expression:"'+38 (###) ##-##-###'"}],class:{"success-phone":!e.PhoneError.length&&19==e.userPhone},attrs:{label:"Телефон","prepend-icon":"mdi-phone",outlined:"",dense:"","return-masked-value":"","append-icon":e.PhoneError.length||19!=e.userPhone?"":"mdi-check",color:e.PhoneError.length||19!=e.userPhone?"":"success","hide-details":!e.PhoneError.length,"error-messages":e.PhoneError},on:{blur:function(t){return e.$v.user.phone.$touch()}},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1)],1),r("VRow",[r("VCol",{attrs:{cols:"6"}},[r("v-select",{attrs:{"prepend-icon":"mdi-shield-account",items:Object.values(e.categories),"item-value":"_id","item-text":"title",label:"Посада",outlined:"",dense:"","hide-details":!e.PermissionError.length,"error-messages":e.PermissionError,clearable:"","menu-props":{bottom:!0,offsetY:!0}},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.item;return[r("v-chip",{attrs:{small:"",color:"primary"}},[e._v(e._s(n.title))])]}}]),model:{value:e.user.permission,callback:function(t){e.$set(e.user,"permission",t)},expression:"user.permission"}})],1),r("VCol",{attrs:{cols:"6"}},[r("VBtn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.visibleAdd=!0}}},[r("VIcon",{attrs:{left:""}},[e._v("mdi-plus")]),e._v("Додати нову посаду")],1)],1)],1)],1),r("VDivider"),r("VCardActions",[r("VSpacer"),r("VBtn",{attrs:{color:"error",text:""},on:{click:e.onCancel}},[e._v(" Скасувати ")]),e.edit?r("VBtn",{attrs:{color:"primary",disabled:e.isLoading,loading:e.isLoading},on:{click:e.onUpdate}},[e._v(" Оновити ")]):r("VBtn",{attrs:{color:"primary",disabled:e.isLoading,loading:e.isLoading},on:{click:e.onCreate}},[e._v(" Створити ")])],1)],1),e.visibleAdd?r("add-new-permission-dialog",{attrs:{visibleAdd:e.visibleAdd},on:{close:function(t){e.visibleAdd=!1},added:e.addedPosition}}):e._e()],1)}),u=[],d=(r("ac1f"),r("5319"),r("b0c0"),r("cd89")),p=r("6731"),v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("VDialog",{attrs:{transition:"scroll-y-transition"},on:{"click:outside":function(t){return e.$v.$reset()}},model:{value:e.visibility,callback:function(t){e.visibility=t},expression:"visibility"}},[r("VCard",{attrs:{width:"500"}},[r("VCardTitle",[e._v(" Додати нову посаду ")]),r("VCardText",[r("VRow",[r("VCol",[r("VTextField",{attrs:{label:"Назва посади","prepend-icon":"mdi-shield-account",outlined:"",dense:"","hide-details":!e.NameError.length,"error-messages":e.NameError},model:{value:e.permission,callback:function(t){e.permission=t},expression:"permission"}})],1)],1)],1),r("VCardActions",[r("VSpacer"),r("VBtn",{attrs:{color:"primary"},on:{click:e.onCreate}},[e._v(" Додати посаду ")])],1)],1)],1)},m=[],h=r("1dce"),f=r("b5ae"),g=r("108b"),b=r.n(g),x={mixins:[h["validationMixin"]],validations:{permission:{required:f["required"]}},props:{visibleAdd:{require:!0}},data:function(){return{permission:""}},methods:{onCreate:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.$touch(),e.$v.$invalid){t.next=15;break}return t.prev=2,r=[],r.title=e.permission,r.type=new b.a({preset:"uk"}).transform(e.permission,"_").toLowerCase(),t.next=8,d["a"].createPosition(Object(o["a"])({},r));case 8:n=t.sent,e.$emit("added",n),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),alert(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})))()}},computed:{NameError:function(){var e=[];return this.$v.permission.$dirty?(!this.$v.permission.required&&e.push("Назва посади обов`язкове поле для заповнення"),e):e},visibility:{get:function(){return this.visibleAdd},set:function(){this.permission="",this.$emit("close")}}}},k=x,w=r("2877"),C=Object(w["a"])(k,v,m,!1,null,null,null),_=C.exports,$=function(e){return 13===e.replace(/[^+\d]/g,"").length},V={components:{AddNewPermissionDialog:_},name:"add-users-dialog",mixins:[h["validationMixin"]],props:{visible:{require:!0},chosenUser:{require:!1}},data:function(){return{categories:[],user:[],phone:"12312321",visibleAdd:!1,edit:!1,isLoading:!1}},validations:{user:{name:{required:f["required"]},surname:{required:f["required"]},phone:{required:f["required"],validPhone:$},email:{required:f["required"],email:f["email"]},permission:{required:f["required"]}}},mounted:function(){this.getChosenUser(),this.getPositions()},methods:{getChosenUser:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.chosenUser){t.next=17;break}return console.log(e.chosenUser),t.prev=2,e.edit=!0,t.next=6,p["a"].findUserById({id:e.chosenUser});case 6:r=t.sent,e.user=r,console.log(e.user),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),alert(t.t0);case 14:e.user.permission=e.user.position,t.next=18;break;case 17:e.edit=!1;case 18:case"end":return t.stop()}}),t,null,[[2,11]])})))()},getPositions:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d["a"].getAll();case 3:e.categories=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),alert(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},onCancel:function(){this.user=[],this.$v.$reset(),this.$emit("close")},onCreate:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.$touch(),e.$v.$invalid){t.next=21;break}return t.prev=2,e.isLoading=!0,r=[],r.name=e.user.name,r.surname=e.user.surname,r.email=e.user.email,r.phone=e.user.phone,r.position=e.user.permission,t.next=12,p["a"].addNewUser(Object(o["a"])({},r));case 12:e.user=[],e.$emit("addUser"),e.$v.$reset(),e.isLoading=!1,t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](2),alert(t.t0);case 21:case"end":return t.stop()}}),t,null,[[2,18]])})))()},addedPosition:function(e){this.getPositions(),this.visibleAdd=!1},onUpdate:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.$touch(),e.$v.$invalid){t.next=22;break}return t.prev=2,e.isLoading=!0,r=[],r.uuid=e.user._id,r.name=e.user.name,r.surname=e.user.surname,r.email=e.user.email,r.phone=e.user.phone,r.position=e.user.permission,console.log(r),t.next=14,p["a"].update(Object(o["a"])({},r));case 14:e.$emit("updateUser",r),e.$v.$reset(),e.isLoading=!1,t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](2),alert(t.t0);case 22:case"end":return t.stop()}}),t,null,[[2,19]])})))()}},computed:{userPhone:function(){return console.log(this.user.phone),this.user.phone?this.user.phone.length:0},visibility:{get:function(){return this.visible},set:function(){this.$emit("close")}},NameError:function(){var e=[];return this.$v.user.name.$dirty?(!this.$v.user.name.required&&e.push("Ім'я обов`язкове поле для заповнення"),e):e},SurnameError:function(){var e=[];return this.$v.user.surname.$dirty?(!this.$v.user.surname.required&&e.push("Прізвище обов`язкове поле для заповлення"),e):e},PhoneError:function(){var e=[];return this.$v.user.phone.$dirty?this.user.phone&&!this.$v.user.phone.validPhone?(e.push("Телефон повинен бути валідним"),e):(!this.$v.user.phone.required&&e.push("Телефон обов`язкове поле для заповлення"),e):e},EmailError:function(){var e=[];return this.$v.user.email.$dirty?this.$v.user.email.email?(!this.$v.user.email.required&&e.push("Пошта обов`язкове поле для заповлення"),e):(e.push("Пошта повинна бути валідна"),e):e},PermissionError:function(){var e=[];return this.$v.user.permission.$dirty?(!this.$v.user.permission.required&&e.push("Посада обов`язкове поле для заповлення"),e):e}}},y=V,j=Object(w["a"])(y,l,u,!1,null,null,null),O=j.exports,R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("VDialog",{model:{value:e.visibility,callback:function(t){e.visibility=t},expression:"visibility"}},[r("VCard",{attrs:{width:"700",disable:e.isLoading,loading:e.isLoading}},[r("VCardTitle",[e._v(" Додати посилання")]),r("VCardText",[r("VRow",[r("VCol",[r("VTextField",{attrs:{label:"Назва","prepend-icon":"mdi-account",outlined:"",dense:"","hide-details":""},model:{value:e.partner.name,callback:function(t){e.$set(e.partner,"name",t)},expression:"partner.name"}})],1)],1),r("VRow",[r("VCol",[r("VTextField",{attrs:{label:"Посилання","prepend-icon":"mdi-link",outlined:"",dense:"","hide-details":!e.linkError.length,"error-messages":e.linkError},model:{value:e.partner.link,callback:function(t){e.$set(e.partner,"link",t)},expression:"partner.link"}})],1)],1),r("VRow",[r("VCol",[r("v-file-input",{attrs:{dense:"",counter:"",label:"Головна картинка",placeholder:"Головна картинка","prepend-icon":"mdi-camera",outlined:"",accept:"image/png, image/jpeg, image/svg","show-size":1e3,rules:e.rules,"error-messages":e.imageError},on:{change:e.onFileChange},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.index,i=t.text;return[n<2?r("v-chip",{attrs:{label:"",small:""}},[e._v(" "+e._s(i)+" ")]):2===n?r("span",{staticClass:"text-overline grey--text text--darken-3 mx-2"},[e._v(" +"+e._s(e.partner.image.length-2)+" File(s) ")]):e._e()]}}]),model:{value:e.partner.image,callback:function(t){e.$set(e.partner,"image",t)},expression:"partner.image"}})],1)],1)],1),r("VDivider"),r("VCardActions",[r("VSpacer"),r("VBtn",{attrs:{color:"error",text:""},on:{click:e.onCancel}},[e._v(" Скасувати ")]),r("VBtn",{attrs:{color:"primary",disabled:e.isLoading,loading:e.isLoading},on:{click:e.onCreate}},[e._v(" Створити ")])],1)],1)],1)},P=[],U=(r("9911"),r("edef")),A={name:"add-users-dialog",mixins:[h["validationMixin"]],props:{visible:{require:!0}},data:function(){return{rules:[function(e){return!e||e.size<3e6||"Зображення повинне бути менше 3 MB!"}],partner:[],base64image:"",isLoading:!1}},validations:{partner:{link:{required:f["required"],url:f["url"]},image:{required:f["required"]}}},mounted:function(){},methods:{onCancel:function(){this.user=[],this.$v.$reset(),this.$emit("close")},onFileChange:function(e){var t=this;if(e){var r=new FileReader;r.readAsDataURL(e),r.onload=function(e){t.base64image=e.target.result}}},onCreate:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.$touch(),e.$v.$invalid){t.next=19;break}return t.prev=2,e.isLoading=!0,r=[],r.partner_name=e.partner.name,r.path_img=e.base64image,r.path_link=e.partner.link,t.next=10,U["a"].addNewPartner(Object(o["a"])({},r));case 10:e.partner=[],e.$emit("addPartner"),e.$v.$reset(),e.isLoading=!1,t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](2),alert(t.t0);case 19:case"end":return t.stop()}}),t,null,[[2,16]])})))()}},computed:{visibility:{get:function(){return this.visible},set:function(){this.$emit("close")}},linkError:function(){var e=[];return this.$v.partner.link.$dirty?this.partner.link?(!this.$v.partner.link.url&&e.push("Посилання повинне бути валідним"),e):(!this.$v.partner.link.required&&e.push("Посилання обов`язкове поле для заповнення"),e):e},imageError:function(){var e=[];return this.$v.partner.image.$dirty?(!this.$v.partner.image.required&&e.push("Картинка обов`язкове поле для заповнення"),e):e}}},L=A,E=Object(w["a"])(L,R,P,!1,null,null,null),I=E.exports,T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-simple-table",{staticClass:"p-1 my-table",scopedSlots:e._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",{staticClass:"text-left"},[e._v("#")]),r("th",{staticClass:"text-left"},[e._v("Назва")]),r("th",{staticClass:"text-left"},[e._v("Телефон")]),r("th",{staticClass:"text-left"},[e._v("Пошта")]),r("th",{staticClass:"text-left"},[e._v("Посада")]),r("th",{staticClass:"text-left"},[e._v("Дія")])])]),r("tbody",e._l(e.users,(function(t,n){return r("tr",{key:t.id},[r("td",[e._v(e._s(n+1))]),r("td",[e._v(e._s(t.name||"--")+" "+e._s(t.surname||"--"))]),r("td",[e._v(e._s(t.phone||"--"))]),r("td",[e._v(e._s(t.email||"--"))]),r("td",[e._v(e._s(t.position.title||"--"))]),r("td",[r("VRow",{attrs:{justify:"center"}},[r("VBtn",{attrs:{fab:"",elevation:"3","x-small":"",color:"primary"},on:{click:function(r){return e.editUser(t)}}},[r("VIcon",[e._v(" mdi-account-edit")])],1),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var i=n.on,a=n.attrs;return[r("VBtn",e._g(e._b({attrs:{fab:"","x-small":"",elevation:"3",color:"error"},on:{dblclick:function(r){return e.deleteUser(t._id)}}},"VBtn",a,!1),i),[r("VIcon",[e._v(" mdi-delete")])],1)]}}],null,!0)},[r("span",[e._v("Щоб видалити, потрібно натиснути двічі")])])],1)],1)])})),0)]},proxy:!0}])})},q=[],B={props:{users:{type:Array,require:!1}},methods:{editUser:function(e){this.$emit("showEdit",e)},deleteUser:function(e){console.log(e),this.$emit("deleteUser",e)}}},D=B,S=(r("f328"),Object(w["a"])(D,T,q,!1,null,"5b1cea2e",null)),F=S.exports,N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"py-10 px-5"},[e.partners.length?r("v-row",{attrs:{justify:"start"}},e._l(e.partners,(function(t){return r("v-col",{key:t._id,attrs:{cols:"12",xl:"3",lg:"3",md:"4",sm:"6"}},[r("v-card",{on:{click:e.onClick}},[r("v-img",{attrs:{height:"140",cover:"",src:t.path_img}}),r("VDivider",{staticClass:"mx-5"}),r("VRow",{staticClass:"pa-0 py-2 mx-5",attrs:{"no-gutters":"",align:"center"}},[r("VCol",{attrs:{cols:"8"}},[t.partner_name?r("v-card-subtitle",{staticClass:"pa-0"},[e._v(e._s(t.partner_name)+" ")]):e._e()],1),r("VCol",{staticClass:"text-right",attrs:{cols:"4"}},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var i=n.on,a=n.attrs;return[r("VBtn",e._g(e._b({attrs:{icon:"",color:"error"},on:{dblclick:function(r){return e.onDelete(t._id)},click:function(e){e.stopPropagation()}}},"VBtn",a,!1),i),[r("VIcon",[e._v(" mdi-delete ")])],1)]}}],null,!0)},[r("span",[e._v("Щоб видалити, потрібно натиснути двічі")])])],1)],1)],1)],1)})),1):r("v-row",[r("div",{staticClass:"text-center w-100"},[e._v("Список партнерів порожній")])])],1)},z=[],M={props:{partners:{type:Array,require:!1}},methods:{onDelete:function(e){this.$emit("deletePartner",e)},onClick:function(){console.log("open")}}},J=M,G=Object(w["a"])(J,N,z,!1,null,null,null),W=G.exports,Y=r("9c03"),H=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"py-10 px-5"},[r("VRow",{attrs:{justify:"start"}},[e._l(e.images,(function(t){return e.loading?e._e():r("VCol",{key:t._id,attrs:{cols:"12",xl:"4",lg:"3",md:"6",sm:"6"}},[r("VCard",{attrs:{ripple:"",height:"200"}},[r("VCardText",{staticClass:"pa-0 ma-0"},[r("div",{staticClass:"img__wrapper"},[r("img",{attrs:{src:t.img,alt:""}})])]),r("VCardActions",[r("VSpacer"),r("VBtn",{attrs:{color:"error",text:"",small:""},on:{click:function(r){return e.onDelete(t._id)}}},[r("VIcon",{attrs:{left:""}},[e._v(" mdi-delete ")]),e._v(" Видалити ")],1)],1)],1)],1)})),e._l(3,(function(t){return e.loading?r("VCol",{key:t,attrs:{cols:"12",xl:"4",lg:"3",md:"6",sm:"6"}},[r("VCard",{attrs:{ripple:"",height:"200"}},[r("VCardText",{staticClass:"pa-0 ma-0"},[r("v-skeleton-loader",{attrs:{type:"image"}})],1)],1)],1):e._e()})),r("VCol",{attrs:{xl:"4",lg:"3",md:"6",sm:"6"}},[r("VCard",{staticClass:"d-flex align-center",attrs:{ripple:"",height:"200"},on:{click:e.onClickAdd}},[r("VCardText",{staticClass:"text-center unselectable pa-0"},[r("VIcon",[e._v("mdi-plus")]),e._v(" Додати Зображення ")],1)],1),r("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"imageInput",attrs:{type:"file"},on:{change:e.onAddImage}})],1)],2)],1)},K=[],Q=r("9c7a"),X={data:function(){return{newImage:"",images:[],loading:!1}},mounted:function(){this.getAllImages()},methods:{onDelete:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Q["a"].deletePhoto({id:e});case 3:t.getAllImages(),r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),alert(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},getAllImages:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,Q["a"].getPhotos();case 4:r=t.sent,e.images=r.reverse(),e.loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),alert(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},onAddImage:function(e){var t=this,r=e.target.files[0];if(r){var n=new FileReader;n.readAsDataURL(r),n.onload=function(e){t.newImage=e.target.result,t.onUpdate()}}},onClickAdd:function(){this.$nextTick((function(){this.$refs.imageInput.click()}))},onUpdate:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q["a"].createPhoto({img:e.newImage}).then((function(t){e.images.unshift(t),e.$refs.imageInput.value=""}));case 3:t.next=7;break;case 5:t.prev=5,t.t0=t["catch"](0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})))()}}},Z=X,ee=(r("43c7"),Object(w["a"])(Z,H,K,!1,null,"b29e9c22",null)),te=ee.exports,re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("VDialog",{attrs:{scrollable:""},model:{value:e.visibility,callback:function(t){e.visibility=t},expression:"visibility"}},[r("VCard",{attrs:{width:"700",disable:e.isLoading,loading:e.isLoading}},[r("VCardTitle",[e._v(" Інформація про коледж "),r("VSpacer"),r("VBtn",{attrs:{text:"",disabled:e.isChanged},on:{click:e.onReset}},[e._v(" Скасувати зміни ")])],1),r("VDivider",{staticClass:"mx-10"}),r("VCardText",{staticClass:"mt-5"},[r("vue-editor",{attrs:{disable:e.isLoading},model:{value:e.collegeInfo.info,callback:function(t){e.$set(e.collegeInfo,"info",t)},expression:"collegeInfo.info"}})],1),r("VDivider",{staticClass:"mx-5"}),r("VCardActions",[r("VSpacer"),r("VBtn",{attrs:{color:"error",text:""},on:{click:e.onCancel}},[e._v(" Скасувати ")]),r("VBtn",{attrs:{color:"primary",disabled:e.isLoading||e.isChanged,loading:e.isLoading},on:{click:e.onUpdate}},[e._v(" Оновити ")])],1)],1)],1)},ne=[],ie=r("5873"),ae={components:{VueEditor:ie["a"]},mixins:[h["validationMixin"]],props:{visible:{require:!0}},data:function(){return{collegeInfo:[],isLoading:!1,isChanged:null}},validations:{},mounted:function(){this.getInfo()},watch:{collegeInfo:{deep:!0,handler:function(e){this.isChanged=this.infoCopy.info===this.collegeInfo.info}}},methods:{onReset:function(){this.collegeInfo=Object(o["a"])({},this.infoCopy)},onCancel:function(){this.collegeInfo=this.infoCopy,this.$v.$reset(),this.$emit("close")},getInfo:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,Q["a"].getAll();case 4:r=t.sent,e.collegeInfo=r,e.infoCopy=Object(o["a"])({},e.collegeInfo),e.isLoading=!1,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),alert(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},onUpdate:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.$touch(),e.$v.$invalid){t.next=18;break}return t.prev=2,e.isLoading=!0,r={},r.info=e.collegeInfo.info,t.next=8,Q["a"].update(e.collegeInfo._id,r);case 8:e.partner=[],e.$emit("changeInfoCol"),e.$v.$reset(),e.isLoading=!1,t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](2),e.isLoading=!1,alert(t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})))()}},computed:{visibility:{get:function(){return this.visible},set:function(){this.$emit("close")}}}},se=ae,oe=Object(w["a"])(se,re,ne,!1,null,null,null),ce=oe.exports,le={mixins:[Y["a"]],components:{AddUsersDialog:O,UsersList:F,PartnersList:W,AddPartnersDialog:I,AboutColComponent:te,EditInfoColDialog:ce},mounted:function(){this.getUser(),this.getPartners()},computed:{getBtnAddText:function(){return 0===this.listTab?"Додати нового користувача":1===this.listTab?"Додати нове посилання":2===this.listTab?"Інформація про коледж":void 0}},methods:{changeInfoCol:function(){this.visibleAboutCol=!1},onClickAdd:function(){0===this.listTab&&(this.visibleUser=!0),1===this.listTab&&(this.visiblePartner=!0),2===this.listTab&&(this.visibleAboutCol=!0)},addUser:function(){this.getUser(),this.visibleUser=!1},addPartner:function(){this.getPartners(),this.visiblePartner=!1},updateUser:function(){this.getUser(),this.visibleUser=!1,console.log(123),this.chosenId=null},deleteUser:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.setLoading(!0),n=[],n.id=e,r.next=6,p["a"].deleteUser(Object(o["a"])({},n));case 6:t.getUser(),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](0),alert(r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},deletePartner:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.setLoading(!0),r.next=4,U["a"].deletePartner(e);case 4:t.getPartners(),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),alert(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},getUser:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.setLoading(!0),t.next=4,p["a"].getAll();case 4:e.users=t.sent,console.log(e.users),e.users=e.users.filter((function(e){return e.token!==JSON.parse(localStorage.token)})),e.setLoading(!1),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),alert(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},getPartners:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.setLoading(!0),t.next=4,U["a"].getAll();case 4:e.partners=t.sent,e.setLoading(!1),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),alert(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},showEdit:function(e){this.chosenId=e._id,this.visibleUser=!0}},data:function(){return{listTab:0,visibleUser:!1,visiblePartner:!1,visibleEdit:!1,visibleAboutCol:!1,users:[],partners:[],chosenId:null,tab:"user"}}},ue=le,de=Object(w["a"])(ue,a,s,!1,null,null,null),pe=de.exports,ve=r("a2db"),me={components:{AdminComponent:pe,AdminWrapper:ve["a"]}},he=me,fe=(r("3a9e"),Object(w["a"])(he,n,i,!1,null,null,null));t["default"]=fe.exports},"3a9e":function(e,t,r){"use strict";r("58a6")},"43c7":function(e,t,r){"use strict";r("7493")},"58a6":function(e,t,r){},"5d2a":function(e,t){var r=9007199254740991,n="[object Arguments]",i="[object Function]",a="[object GeneratorFunction]",s=/^(?:0|[1-9]\d*)$/;function o(e,t){var r=-1,n=Array(e);while(++r<e)n[r]=t(r);return n}function c(e,t){return function(r){return e(t(r))}}var l=Object.prototype,u=l.hasOwnProperty,d=l.toString,p=l.propertyIsEnumerable,v=c(Object.keys,Object);function m(e,t){var r=$(e)||_(e)?o(e.length,String):[],n=r.length,i=!!n;for(var a in e)!t&&!u.call(e,a)||i&&("length"==a||w(a,n))||r.push(a);return r}var h=x();function f(e,t){return e&&h(e,t,A)}function g(e,t,r,n){return f(e,(function(e,i,a){t(n,r(e),i,a)})),n}function b(e){if(!C(e))return v(e);var t=[];for(var r in Object(e))u.call(e,r)&&"constructor"!=r&&t.push(r);return t}function x(e){return function(t,r,n){var i=-1,a=Object(t),s=n(t),o=s.length;while(o--){var c=s[e?o:++i];if(!1===r(a[c],c,a))break}return t}}function k(e,t){return function(r,n){return g(r,e,t(n),{})}}function w(e,t){return t=null==t?r:t,!!t&&("number"==typeof e||s.test(e))&&e>-1&&e%1==0&&e<t}function C(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||l;return e===r}function _(e){return y(e)&&u.call(e,"callee")&&(!p.call(e,"callee")||d.call(e)==n)}var $=Array.isArray;function V(e){return null!=e&&O(e.length)&&!j(e)}function y(e){return P(e)&&V(e)}function j(e){var t=R(e)?d.call(e):"";return t==i||t==a}function O(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function R(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function P(e){return!!e&&"object"==typeof e}var U=k((function(e,t,r){e[t]=r}),L(E));function A(e){return V(e)?m(e):b(e)}function L(e){return function(){return e}}function E(e){return e}e.exports=U},7493:function(e,t,r){},"9c7a":function(e,t,r){"use strict";var n=r("1da1"),i=(r("96cf"),r("bae0")),a="/api/collegeInfo",s="/api/collegePhoto";t["a"]={getAll:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].post("".concat(a));case 2:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data[0]);case 4:case"end":return e.stop()}}),e)})))()},update:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,i["a"].put("".concat(a,"/").concat(e),t);case 2:return n=r.sent,r.abrupt("return",null===n||void 0===n?void 0:n.data);case 4:case"end":return r.stop()}}),r)})))()},createPhoto:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].post("".concat(s,"/createPhoto"),e);case 2:return r=t.sent,t.abrupt("return",null===r||void 0===r?void 0:r.data);case 4:case"end":return t.stop()}}),t)})))()},getPhotos:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].post("".concat(s));case 2:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data);case 4:case"end":return e.stop()}}),e)})))()},deletePhoto:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].post("".concat(s,"/deletePhoto"),e);case 2:return r=t.sent,t.abrupt("return",null===r||void 0===r?void 0:r.data);case 4:case"end":return t.stop()}}),t)})))()}}},edef:function(e,t,r){"use strict";var n=r("1da1"),i=(r("96cf"),r("bae0")),a="/api/partner";t["a"]={addNewPartner:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].post("".concat(a,"/addPartner"),e);case 2:return r=t.sent,t.abrupt("return",null===r||void 0===r?void 0:r.data);case 4:case"end":return t.stop()}}),t)})))()},getAll:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].post("".concat(a,"/getAllPartner"));case 2:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data);case 4:case"end":return e.stop()}}),e)})))()},deletePartner:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].delete("".concat(a,"/deletePartner/")+e);case 2:return r=t.sent,t.abrupt("return",null===r||void 0===r?void 0:r.data);case 4:case"end":return t.stop()}}),t)})))()}}},f328:function(e,t,r){"use strict";r("1971")}}]);