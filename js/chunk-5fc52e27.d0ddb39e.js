(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5fc52e27"],{"19ab":function(e,t,i){"use strict";i("7da2")},"27ed":function(e,t,i){"use strict";var n=i("1da1"),a=(i("96cf"),i("bae0")),s="/api/specialty";t["a"]={addSpecialty:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("".concat(s,"/addSpecialty"),e);case 2:return i=t.sent,t.abrupt("return",null===i||void 0===i?void 0:i.data);case 4:case"end":return t.stop()}}),t)})))()},getAllSpecialty:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("".concat(s,"/getAllSpecialty"));case 2:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data);case 4:case"end":return e.stop()}}),e)})))()},updateSpecialty:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("".concat(s,"/updateSpecialty"),e);case 2:return i=t.sent,t.abrupt("return",null===i||void 0===i?void 0:i.data);case 4:case"end":return t.stop()}}),t)})))()},getById:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("".concat(s,"/getById"),e);case 2:return i=t.sent,t.abrupt("return",null===i||void 0===i?void 0:i.data[0]);case 4:case"end":return t.stop()}}),t)})))()},searchSpecialty:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("".concat(s,"/searchSpecialty"),e);case 2:return i=t.sent,t.abrupt("return",null===i||void 0===i?void 0:i.data);case 4:case"end":return t.stop()}}),t)})))()},deleteSpecialty:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("".concat(s,"/deleteSpecialty"),e);case 2:return i=t.sent,t.abrupt("return",null===i||void 0===i?void 0:i.data);case 4:case"end":return t.stop()}}),t)})))()}}},"32a6":function(e,t,i){"use strict";i("74bf")},"37c8":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"specialities-card mt-5 mx-1",class:{edit:e.edit}},[i("div",{on:{click:e.onClick}},[i("v-slide-x-transition",[e.sceletonLoader?e._e():i("div",{staticClass:"card__title"},[i("div",{staticClass:"title__number"},[e._v(e._s("0"+e.indexSpecialitie||!1))]),i("div",{staticClass:"title__text",class:{edit:e.edit}},[e._v(" "+e._s(e.specialitie.name||"--")+" ("+e._s(e.specialitie.number||"--")+") ")])])]),e.sceletonLoader?i("div",{staticClass:"card__title"},[i("v-skeleton-loader",{attrs:{type:"chip"}})],1):e._e(),i("v-slide-x-transition",[e.sceletonLoader?e._e():i("div",{staticClass:"card__img"},[i("img",{attrs:{src:e.specialitie.img}})])]),e.sceletonLoader?i("div",[i("v-skeleton-loader",{staticClass:"mt-5",attrs:{type:"card",height:"250"}})],1):e._e()],1),e.edit?i("div",{staticClass:"card__arrow",on:{click:e.onClick}},[i("VIcon",{attrs:{color:"primary"}},[e._v("mdi-square-edit-outline")])],1):i("div",{staticClass:"card__arrow"},[i("VIcon",[e._v("mdi-arrow-bottom-left")])],1)])},a=[],s={name:"v-specialities-item",props:{specialitie:{type:Object,require:!1},indexSpecialitie:{require:!1},edit:{require:!1},sceletonLoader:{require:!1}},methods:{onClick:function(){this.edit?this.sceletonLoader||this.$emit("edit",this.specialitie._id):this.$router.push({name:"main-speciality-page",params:{id:this.specialitie._id}})}}},r=s,c=(i("68b0"),i("2877")),o=Object(c["a"])(r,n,a,!1,null,null,null);t["a"]=o.exports},"68b0":function(e,t,i){"use strict";i("a260")},"74bf":function(e,t,i){},"7da2":function(e,t,i){},a260:function(e,t,i){},cc62:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("SpecialitiesComponent")},a=[],s=i("a2db"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h-auto"},[i("div",{staticClass:"d-flex justify-space-between p-1 align-center"},[i("VBtn",{attrs:{rounded:"",text:"",color:"primary"}},[i("VIcon",{attrs:{left:""}},[e._v(" mdi-school-outline")]),e._v(" Список Спеціальностей ")],1),i("VBtn",{attrs:{rounded:"",color:"primary",outlined:""},on:{click:function(t){e.visible=!0}}},[i("VIcon",{attrs:{left:""}},[e._v("mdi-folder-account")]),e._v("Додати нову спеціальність")],1)],1),i("VDivider"),i("SpecialitiesList",{attrs:{specialitites:e.specialities,SceletonLoader:e.SceletonLoader},on:{edit:e.editSpeciality}}),e.visible?i("AddSpecialitiesDialog",{attrs:{edit:e.isEdit,visible:e.visible,specialityId:e.specialityId},on:{close:e.close,addSpeciality:e.addSpeciality,editSpeciality:e.editSpeciality,specialitiesModified:e.specialitiesModified,onDelete:e.onDelete}}):e._e()],1)},c=[],o=i("1da1"),l=(i("96cf"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("VDialog",{attrs:{scrollable:""},on:{"click:outside":function(t){return e.$v.$reset()}},model:{value:e.visibility,callback:function(t){e.visibility=t},expression:"visibility"}},[i("VCard",{attrs:{width:"700",disable:e.isLoading,loading:e.isLoading}},[e.edit?i("VCardTitle",[e._v(" Змінити спеціальність "),i("VSpacer"),i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[i("VBtn",e._g(e._b({attrs:{text:"",color:"error"},on:{dblclick:e.onDelete}},"VBtn",a,!1),n),[i("VIcon",{attrs:{left:""}},[e._v(" mdi-delete ")]),e._v(" видалити ")],1)]}}],null,!1,1238695463)},[i("span",[e._v("Щоб видалити, потрібно натиснути двічі")])]),i("VIcon",{attrs:{color:"primary"}},[e._v(" mdi-square-edit-outline ")])],1):i("VCardTitle",[e._v(" Додати нову спеціальність "),i("VSpacer"),i("VIcon",{attrs:{color:"primary"}},[e._v(" mdi-folder-account ")])],1),i("VDivider",{staticClass:"mx-5"}),i("VCardText",[i("VRow",{staticClass:"my-5"},[i("VCol",{staticClass:"pb-0"},[i("VTextField",{attrs:{label:"Назва спеціальності","prepend-icon":"mdi-clipboard-text",outlined:"",dense:"",counter:"150","error-messages":e.TitleError},model:{value:e.specialities.name,callback:function(t){e.$set(e.specialities,"name",t)},expression:"specialities.name"}})],1),i("VCol",{staticClass:"pb-0"},[i("VTextField",{attrs:{label:"Номер спеціальності","prepend-icon":"mdi-counter",outlined:"",dense:"","error-messages":e.NumberError,type:"number"},model:{value:e.specialities.number,callback:function(t){e.$set(e.specialities,"number",t)},expression:"specialities.number"}})],1)],1),e.edit?i("VCard",[i("v-img",{attrs:{height:"140","lazy-src":e.specialities.img,src:e.specialities.img},scopedSlots:e._u([{key:"placeholder",fn:function(){return[i("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[i("v-progress-circular",{attrs:{indeterminate:"",color:"primary "}})],1)]},proxy:!0}])}),i("v-card-actions",[e._v(" Головна картинка "),i("v-spacer"),i("v-btn",{attrs:{text:"",color:"primary",small:""},on:{click:e.onEditImage}},[i("v-icon",{attrs:{left:""}},[e._v("mdi-square-edit-outline")]),e._v(" Редагувати ")],1)],1),i("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"image",attrs:{type:"file",accept:"image/png, image/jpeg, image/svg"},on:{change:e.onChangeEditImg}})],1):i("VRow",[i("VCol",{staticClass:"py-0"},[i("v-file-input",{attrs:{dense:"",counter:"",label:"Головна картинка",placeholder:"Головна картинка","prepend-icon":"mdi-camera",outlined:"",accept:"image/png, image/jpeg, image/svg","show-size":1e3,rules:e.rules,"error-messages":e.MainImageError},on:{change:e.onFileChange},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.index,a=t.text;return[n<2?i("v-chip",{attrs:{label:"",small:""}},[e._v(" "+e._s(a)+" ")]):2===n?i("span",{staticClass:"text-overline grey--text text--darken-3 mx-2"},[e._v(" +"+e._s(e.news.main_img.length-2)+" File(s) ")]):e._e()]}}],null,!1,3124280233),model:{value:e.specialities.img,callback:function(t){e.$set(e.specialities,"img",t)},expression:"specialities.img"}})],1)],1),i("VDivider",{staticClass:"mt-5"}),i("v-subheader",[e._v("Опис Інформація на кожному курсі")]),i("VRow",[i("VCol",[i("v-expansion-panels",{attrs:{multiple:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},e._l(4,(function(t,n){return i("v-expansion-panel",{key:n},[i("v-expansion-panel-header",[e._v(e._s(n+1)+" курс")]),i("v-expansion-panel-content",[i("v-textarea",{attrs:{outlined:"","auto-grow":"",label:"Опис діяльності на  "+(n+1)+" курсі",rows:"5","row-height":"20",counter:210,maxlength:"210"},model:{value:e.specialities.courses[n+1],callback:function(t){e.$set(e.specialities.courses,n+1,t)},expression:"specialities.courses[key + 1]"}})],1)],1)})),1)],1)],1),i("VRow",[e.showEditorText?i("VCol",[i("div",{staticClass:"editor-view",domProps:{innerHTML:e._s(e.specialities.content)}})]):i("VCol",[i("vue-editor",{model:{value:e.specialities.content,callback:function(t){e.$set(e.specialities,"content",t)},expression:"specialities.content"}})],1),i("VBtn",{attrs:{icon:"",color:"primary"},on:{click:function(t){e.showEditorText=!e.showEditorText}}},[i("VIcon",[e._v("mdi-eye")])],1)],1)],1),i("VDivider",{staticClass:"mx-5"}),i("VCardActions",[i("VSpacer"),i("VBtn",{attrs:{text:"",color:"error"},on:{click:e.onCancel}},[e._v("Скасувати")]),i("VBtn",{attrs:{color:"primary",loading:e.isLoading,disabled:e.isLoading},on:{click:function(t){e.edit?e.onUpdate():e.onCreate()}}},[e._v(" "+e._s(e.edit?"Оновити":"Додати")+" ")])],1)],1)],1)}),u=[],d=i("5530"),p=(i("b0c0"),i("5873")),m=i("1dce"),v=i("b5ae"),g=i("27ed"),h={components:{VueEditor:p["a"]},mixins:[m["validationMixin"]],props:{visible:{require:!1},edit:{require:!1},specialityId:{require:!1}},validations:{specialities:{name:{maxLength:Object(v["maxLength"])(150),required:v["required"]},img:{required:v["required"]},number:{required:v["required"]}}},data:function(){return{isLoading:!1,specialities:{name:"",img:null,courses:{},content:"",number:""},showEditorText:!1,rules:[function(e){return!e||e.size<3e6||"Зображення повинне бути менше 3 MB!"}],panel:[0,1,2,3]}},mounted:function(){this.edit&&this.getSpecialty()},methods:{onDelete:function(){this.$emit("onDelete")},onEditImage:function(){this.$nextTick((function(){this.$refs.image.click()}))},onCancel:function(){this.$emit("close",this.edit),this.specialities={name:"",img:null,courses:{},content:"",number:""},this.$v.$reset()},onCreate:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.$touch(),e.$v.$invalid){t.next=23;break}return t.prev=2,e.isLoading=!0,i=[],i.name=e.specialities.name,i.img=e.base64image,i.courses=e.specialities.courses,i.content=e.specialities.content,i.number=e.specialities.number,t.next=12,g["a"].addSpecialty(Object(d["a"])({},i));case 12:n=t.sent,e.$emit("addSpeciality",n),e.$v.$reset(),e.specialities={name:"",img:null,courses:{},content:"",number:""},e.isLoading=!1,t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](2),e.isLoading=!1,alert(t.t0);case 23:case"end":return t.stop()}}),t,null,[[2,19]])})))()},onFileChange:function(e){var t=this;if(console.log(e),e){var i=new FileReader;i.readAsDataURL(e),i.onload=function(e){t.base64image=e.target.result,t.edit&&(t.specialities.img=t.base64image)}}},onChangeEditImg:function(e){this.onFileChange(e.target.files[0])},onUpdate:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.$touch(),e.$v.$invalid){t.next=23;break}return t.prev=2,e.isLoading=!0,i=[],i.id=e.specialityId,i.name=e.specialities.name,i.img=e.base64image,i.courses=e.specialities.courses,i.content=e.specialities.content,i.number=e.specialities.number,t.next=13,g["a"].updateSpecialty(Object(d["a"])({},i));case 13:e.$emit("specialitiesModified"),e.$v.$reset(),e.specialities={name:"",img:null,courses:{},content:"",number:""},e.isLoading=!1,t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](2),e.isLoading=!1,alert(t.t0);case 23:case"end":return t.stop()}}),t,null,[[2,19]])})))()},getSpecialty:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,g["a"].getById({id:e.specialityId});case 4:i=t.sent,e.specialities.name=i.name,e.specialities.number=i.number,e.specialities.img=i.img,e.specialities.content=i.content,i.courses&&(e.specialities.courses=i.courses),console.log(i),e.isLoading=!1,t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),e.isLoading=!1,alert(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()}},watch:{edit:{deep:!0,handler:function(e){e&&this.getSpecialty()}}},computed:{visibility:{get:function(){return this.visible},set:function(){return this.$emit("close",this.edit)}},TitleError:function(){var e=[];return this.$v.specialities.name.$dirty?this.$v.specialities.name.maxLength?(!this.$v.specialities.name.required&&e.push("Заголовок обов`язкове поле для заповнення"),e):(e.push("Довжина заголовку має бути менша за 150 символів"),e):e},NumberError:function(){var e=[];return this.$v.specialities.number.$dirty?(!this.$v.specialities.number.required&&e.push("Номер спеціальності обов`язкове поле для заповнення"),e):e},MainImageError:function(){var e=[];return this.$v.specialities.img.$dirty?(!this.$v.specialities.img.required&&e.push("Головна картинка обов`язкове поле для заповнення"),e):e}}},f=h,b=(i("32a6"),i("2877")),x=Object(b["a"])(f,l,u,!1,null,"f4ca7192",null),y=x.exports,_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("VRow",{staticClass:"mt-5",attrs:{"no-gutters":"",justify:"space-around","justify-lg":"space-between"}},e._l(e.specialitites,(function(t,n){return i("VCol",{key:n,staticClass:"px-5 mb-5",attrs:{cols:"auto"}},[i("MySpecialitiesCard",{attrs:{specialitie:t,indexSpecialitie:n+1,edit:!0},on:{edit:e.editSpecialities}})],1)})),1)],1)},w=[],C=i("37c8"),k={components:{MySpecialitiesCard:C["a"]},props:{specialitites:{require:!0}},methods:{editSpecialities:function(e){this.$emit("edit",e)}}},S=k,$=Object(b["a"])(S,_,w,!1,null,null,null),V=$.exports,L=i("9c03"),R={mixins:[L["a"]],components:{AddSpecialitiesDialog:y,SpecialitiesList:V},data:function(){return{isEdit:!1,visible:!1,specialities:[],SceletonLoader:!1,specialityId:""}},mounted:function(){this.getSpecialities()},methods:{onDelete:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g["a"].deleteSpecialty({id:e.specialityId});case 3:e.close(!0),e.specialities.shift(e.specialityId),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),alert(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},close:function(e){e&&(this.isEdit=!1),this.visible=!1},editSpeciality:function(e){this.isEdit=!0,this.specialityId=e,this.visible=!0},specialitiesModified:function(){this.isEdit=!1,this.visible=!1,this.getSpecialities()},addSpeciality:function(e){this.visible=!1,this.specialities.unshift(e)},getSpecialities:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.setLoading(!0),t.next=4,g["a"].getAllSpecialty();case 4:i=t.sent,e.specialities=i,e.setLoading(!1),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),e.setLoading(!1),alert(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},j=R,I=Object(b["a"])(j,r,c,!1,null,null,null),E=I.exports,q={components:{SpecialitiesComponent:E,AdminWrapper:s["a"]}},O=q,D=(i("19ab"),Object(b["a"])(O,n,a,!1,null,null,null));t["default"]=D.exports}}]);