(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-541919c2"],{"108b":function(e,t,r){"use strict";e.exports=function(e){const t=r("5d2a"),n=e?e.preset:"ru",s={"а":"a","б":"b","в":"v","д":"d","з":"z","й":"y","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","ь":""};let i;"ru"===n?Object.assign(s,{"г":"g","и":"i","ъ":"","ы":"i","э":"e"}):"uk"===n&&Object.assign(s,{"г":"h","ґ":"g","е":"e","и":"y","і":"i","'":"","’":"","ʼ":""}),"ru"===n?i=Object.assign(t(s),{i:"и","":""}):"uk"===n&&(i=Object.assign(t(s),{"":""}));const o="ru"===n?{"е":"ye"}:{"є":"ye","ї":"yi"},a={"ё":"yo","ж":"zh","х":"kh","ц":"ts","ч":"ch","ш":"sh","щ":"shch","ю":"yu","я":"ya"},u=Object.assign({},a,o),c=Object.assign(t(u)),l=Object.assign(s,u),d=Object.assign({},s,{"й":"i"});let p;"ru"===n?Object.assign(d,{"е":"e"}):"uk"===n&&Object.assign(d,{"ї":"i"}),"ru"===n?p=Object.assign(t(s),{i:"и",y:"ы",e:"е","":""}):"uk"===n&&(p=Object.assign(t(s),{"":""}));let h={};"uk"===n&&(h={"є":"ie","ю":"iu","я":"ia"});const m=Object.assign(a,h),v=Object.assign(t(m)),f=Object.assign(d,m);function b(e,t){if(!e)return"";const r=e.normalize();let s="",i=!1;for(let o=0;o<r.length;o++){const e=r[o]===r[o].toUpperCase();let a,u=r[o].toLowerCase();" "!==u?("uk"===n&&"зг"===r.slice(o-1,o+1).toLowerCase()?a="gh":0===o||i?(a=l[u],i=!1):a=f[u],"undefined"===typeof a?s+=e?u.toUpperCase():u:e?a.length>1?s+=a[0].toUpperCase()+a.slice(1):s+=a.toUpperCase():s+=a):(s+=t||" ",i=!0)}return s}function g(e,t){if(!e)return"";const r=e.normalize();let n="",s=!1,o=0;while(o<r.length){const e=r[o]===r[o].toUpperCase();let a,u=r[o].toLowerCase(),l=o;if(" "===u||u===t){n+=" ",s=!0,o++;continue}let d=r.slice(o,o+2).toLowerCase();0===o||s?(a=c[d],a?o+=2:(a=i[u],o++),s=!1):(a=v[d],a?o+=2:(a=p[u],o++)),"shch"===r.slice(l,l+4).toLowerCase()?(a="щ",o=l+4):"zgh"===r.slice(l-1,l+2).toLowerCase()&&(a="г",o=l+2),"undefined"===typeof a?n+=e?u.toUpperCase():u:e?a.length>1?n+=a[0].toUpperCase()+a.slice(1):n+=a.toUpperCase():n+=a}return n}return{transform:b,reverse:g}}},"2de3":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"body"},[r("AdminWrapper",[r("AdminComponent")],1)],1)},s=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"h-auto"},[r("div",{staticClass:"d-flex justify-space-between p-1 align-center"},[r("VBtn",{attrs:{rounded:"",text:"",color:"primary"}},[e._v("Список користувачів")]),r("VBtn",{attrs:{rounded:"",color:"primary",outlined:""},on:{click:function(t){e.visible=!0}}},[r("VIcon",{attrs:{left:""}},[e._v("mdi-account-plus")]),e._v("Додати нового користувача")],1)],1),r("VDivider"),r("UsersList",{attrs:{users:e.users},on:{showEdit:e.showEdit,deleteUser:e.deleteUser}}),e.visible?r("add-users-dialog",{attrs:{visible:e.visible,chosenUser:e.chosenId},on:{close:function(t){e.visible=!1,e.chosenId=null},addUser:e.addUser,updateUser:e.updateUser}}):e._e()],1)},o=[],a=r("5530"),u=r("1da1"),c=(r("4de4"),r("d3b7"),r("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("VDialog",{attrs:{persistent:e.edit},model:{value:e.visibility,callback:function(t){e.visibility=t},expression:"visibility"}},[r("VCard",{attrs:{width:"700"}},[e.edit?r("VCardTitle",[e._v(" Редагувати користувача ")]):r("VCardTitle",[e._v(" Додати користувача ")]),r("VCardText",[r("VRow",[r("VCol",{attrs:{cols:"6"}},[r("VTextField",{attrs:{label:"Ім`я","prepend-icon":"mdi-account",outlined:"",dense:"","hide-details":!e.NameError.length,"error-messages":e.NameError},nativeOn:{input:function(t){return e.$v.user.name.$touch()}},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),r("VCol",{attrs:{cols:"6"}},[r("VTextField",{attrs:{label:"Прізвище",outlined:"",dense:"","hide-details":!e.SurnameError.length,"error-messages":e.SurnameError},nativeOn:{input:function(t){return e.$v.user.surname.$touch()}},model:{value:e.user.surname,callback:function(t){e.$set(e.user,"surname",t)},expression:"user.surname"}})],1)],1),r("VRow",[r("VCol",[r("VTextField",{attrs:{label:"Email","prepend-icon":"mdi-email",outlined:"",dense:"","hide-details":!e.EmailError.length,"error-messages":e.EmailError},on:{blur:function(t){return e.$v.user.email.$touch()}},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1)],1),r("VRow",[r("VCol",[r("VTextField",{directives:[{name:"mask",rawName:"v-mask",value:"+38 (###) ##-##-###",expression:"'+38 (###) ##-##-###'"}],class:{"success-phone":!e.PhoneError.length&&19==e.userPhone},attrs:{label:"Телефон","prepend-icon":"mdi-phone",outlined:"",dense:"","return-masked-value":"","append-icon":e.PhoneError.length||19!=e.userPhone?"":"mdi-check",color:e.PhoneError.length||19!=e.userPhone?"":"success","hide-details":!e.PhoneError.length,"error-messages":e.PhoneError},on:{blur:function(t){return e.$v.user.phone.$touch()}},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1)],1),r("VRow",[r("VCol",{attrs:{cols:"6"}},[r("v-select",{attrs:{"prepend-icon":"mdi-shield-account",items:Object.values(e.categories),"item-value":"_id","item-text":"title",label:"Посада",outlined:"",dense:"","hide-details":!e.PermissionError.length,"error-messages":e.PermissionError,clearable:""},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.item;return[r("v-chip",{attrs:{small:"",color:"primary"}},[e._v(e._s(n.title))])]}}]),model:{value:e.user.permission,callback:function(t){e.$set(e.user,"permission",t)},expression:"user.permission"}})],1),r("VCol",{attrs:{cols:"6"}},[r("VBtn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.visibleAdd=!0}}},[r("VIcon",{attrs:{left:""}},[e._v("mdi-plus")]),e._v("Додати нову посаду")],1)],1)],1)],1),r("VDivider"),r("VCardActions",[r("VSpacer"),r("VBtn",{attrs:{color:"error",text:""},on:{click:e.onCancel}},[e._v(" Скасувати ")]),e.edit?r("VBtn",{attrs:{color:"primary",disabled:e.isLoading,loading:e.isLoading},on:{click:e.onUpdate}},[e._v(" Оновити ")]):r("VBtn",{attrs:{color:"primary",disabled:e.isLoading,loading:e.isLoading},on:{click:e.onCreate}},[e._v(" Створити ")])],1)],1),e.visibleAdd?r("add-new-permission-dialog",{attrs:{visibleAdd:e.visibleAdd},on:{close:function(t){e.visibleAdd=!1},added:e.addedPosition}}):e._e()],1)}),l=[],d=(r("ac1f"),r("5319"),r("b0c0"),r("cd89")),p=r("6731"),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("VDialog",{attrs:{transition:"scroll-y-transition"},on:{"click:outside":function(t){return e.$v.$reset()}},model:{value:e.visibility,callback:function(t){e.visibility=t},expression:"visibility"}},[r("VCard",{attrs:{width:"500"}},[r("VCardTitle",[e._v(" Додати нову посаду ")]),r("VCardText",[r("VRow",[r("VCol",[r("VTextField",{attrs:{label:"Назва посади","prepend-icon":"mdi-shield-account",outlined:"",dense:"","hide-details":!e.NameError.length,"error-messages":e.NameError},model:{value:e.permission,callback:function(t){e.permission=t},expression:"permission"}})],1)],1)],1),r("VCardActions",[r("VSpacer"),r("VBtn",{attrs:{color:"primary"},on:{click:e.onCreate}},[e._v(" Додати посаду ")])],1)],1)],1)},m=[],v=r("1dce"),f=r("b5ae"),b=r("108b"),g=r.n(b),x={mixins:[v["validationMixin"]],validations:{permission:{required:f["required"]}},props:{visibleAdd:{require:!0}},data:function(){return{permission:""}},methods:{onCreate:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.$touch(),e.$v.$invalid){t.next=15;break}return t.prev=2,r=[],r.title=e.permission,r.type=new g.a({preset:"uk"}).transform(e.permission,"_").toLowerCase(),t.next=8,d["a"].createPosition(Object(a["a"])({},r));case 8:n=t.sent,e.$emit("added",n),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),alert(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})))()}},computed:{NameError:function(){var e=[];return this.$v.permission.$dirty?(!this.$v.permission.required&&e.push("Назва посади обов`язкове поле для заповнення"),e):e},visibility:{get:function(){return this.visibleAdd},set:function(){this.permission="",this.$emit("close")}}}},$=x,y=r("2877"),k=Object(y["a"])($,h,m,!1,null,null,null),w=k.exports,_=function(e){return 13===e.replace(/[^+\d]/g,"").length},C={components:{AddNewPermissionDialog:w},name:"add-users-dialog",mixins:[v["validationMixin"]],props:{visible:{require:!0},chosenUser:{require:!1}},data:function(){return{categories:[],user:[],phone:"12312321",visibleAdd:!1,edit:!1,isLoading:!1}},validations:{user:{name:{required:f["required"]},surname:{required:f["required"]},phone:{required:f["required"],validPhone:_},email:{required:f["required"],email:f["email"]},permission:{required:f["required"]}}},mounted:function(){this.getChosenUser(),this.getPositions()},methods:{getChosenUser:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.chosenUser){t.next=17;break}return console.log(e.chosenUser),t.prev=2,e.edit=!0,t.next=6,p["a"].findUserById({id:e.chosenUser});case 6:r=t.sent,e.user=r,console.log(e.user),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),alert(t.t0);case 14:e.user.permission=e.user.position,t.next=18;break;case 17:e.edit=!1;case 18:case"end":return t.stop()}}),t,null,[[2,11]])})))()},getPositions:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d["a"].getAll();case 3:e.categories=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),alert(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},onCancel:function(){this.user=[],this.$v.$reset(),this.$emit("close")},onCreate:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.$touch(),e.$v.$invalid){t.next=21;break}return t.prev=2,e.isLoading=!0,r=[],r.name=e.user.name,r.surname=e.user.surname,r.email=e.user.email,r.phone=e.user.phone,r.position=e.user.permission,t.next=12,p["a"].addNewUser(Object(a["a"])({},r));case 12:e.user=[],e.$emit("addUser"),e.$v.$reset(),e.isLoading=!1,t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](2),alert(t.t0);case 21:case"end":return t.stop()}}),t,null,[[2,18]])})))()},addedPosition:function(e){this.getPositions(),this.visibleAdd=!1},onUpdate:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.$touch(),e.$v.$invalid){t.next=22;break}return t.prev=2,e.isLoading=!0,r=[],r.id=e.user._id,r.name=e.user.name,r.surname=e.user.surname,r.email=e.user.email,r.phone=e.user.phone,r.position=e.user.permission,console.log(r),t.next=14,p["a"].update(Object(a["a"])({},r));case 14:e.$emit("updateUser",r),e.$v.$reset(),e.isLoading=!1,t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](2),alert(t.t0);case 22:case"end":return t.stop()}}),t,null,[[2,19]])})))()}},computed:{userPhone:function(){return console.log(this.user.phone),this.user.phone?this.user.phone.length:0},visibility:{get:function(){return this.visible},set:function(){this.$emit("close")}},NameError:function(){var e=[];return this.$v.user.name.$dirty?(!this.$v.user.name.required&&e.push("Ім'я обов`язкове поле для заповнення"),e):e},SurnameError:function(){var e=[];return this.$v.user.surname.$dirty?(!this.$v.user.surname.required&&e.push("Прізвище обов`язкове поле для заповлення"),e):e},PhoneError:function(){var e=[];return this.$v.user.phone.$dirty?this.user.phone&&!this.$v.user.phone.validPhone?(e.push("Телефон повинен бути валідним"),e):(!this.$v.user.phone.required&&e.push("Телефон обов`язкове поле для заповлення"),e):e},EmailError:function(){var e=[];return this.$v.user.email.$dirty?this.$v.user.email.email?(!this.$v.user.email.required&&e.push("Пошта обов`язкове поле для заповлення"),e):(e.push("Пошта повинна бути валідна"),e):e},PermissionError:function(){var e=[];return this.$v.user.permission.$dirty?(!this.$v.user.permission.required&&e.push("Посада обов`язкове поле для заповлення"),e):e}}},V=C,j=Object(y["a"])(V,c,l,!1,null,null,null),U=j.exports,O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-simple-table",{staticClass:"p-1 my-table",scopedSlots:e._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",{staticClass:"text-left"},[e._v("#")]),r("th",{staticClass:"text-left"},[e._v("Назва")]),r("th",{staticClass:"text-left"},[e._v("Телефон")]),r("th",{staticClass:"text-left"},[e._v("Пошта")]),r("th",{staticClass:"text-left"},[e._v("Посада")]),r("th",{staticClass:"text-left"},[e._v("Дія")])])]),r("tbody",e._l(e.users,(function(t,n){return r("tr",{key:t.id},[r("td",[e._v(e._s(n+1))]),r("td",[e._v(e._s(t.name||"--")+" "+e._s(t.surname||"--"))]),r("td",[e._v(e._s(t.phone||"--"))]),r("td",[e._v(e._s(t.email||"--"))]),r("td",[e._v(e._s(t.position.title||"--"))]),r("td",[r("VRow",{attrs:{justify:"center"}},[r("VBtn",{attrs:{fab:"",elevation:"3","x-small":"",color:"primary"},on:{click:function(r){return e.editUser(t)}}},[r("VIcon",[e._v(" mdi-account-edit")])],1),r("VBtn",{attrs:{fab:"","x-small":"",elevation:"3",color:"error"},on:{click:function(r){return e.deleteUser(t._id)}}},[r("VIcon",[e._v(" mdi-delete")])],1)],1)],1)])})),0)]},proxy:!0}])})},E=[],A={props:{users:{type:Array,require:!1}},methods:{editUser:function(e){this.$emit("showEdit",e)},deleteUser:function(e){console.log(e)}}},P=A,q=(r("a1f7"),Object(y["a"])(P,O,E,!1,null,"5dd0f436",null)),L=q.exports,R=r("9c03"),I={mixins:[R["a"]],components:{AddUsersDialog:U,UsersList:L},mounted:function(){this.getUser()},methods:{addUser:function(){this.getUser(),this.visible=!1},updateUser:function(){this.getUser(),this.visible=!1,console.log(123),this.chosenId=null},deleteUser:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.setLoading(!0),n=[],n.id=e,r.next=6,p["a"].deleteUser(Object(a["a"])({},n));case 6:t.getUser(),t.setLoading(!1),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](0),alert(r.t0);case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))()},getUser:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.setLoading(!0),t.next=4,p["a"].getAll();case 4:e.users=t.sent,e.users=e.users.filter((function(e){return e.token!==JSON.parse(localStorage.token)})),e.setLoading(!1),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),alert(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},showEdit:function(e){this.chosenId=e._id,this.visible=!0}},data:function(){return{visible:!1,visibleEdit:!1,users:[],chosenId:null}}},S=I,B=Object(y["a"])(S,i,o,!1,null,null,null),N=B.exports,T=r("a2db"),F={components:{AdminComponent:N,AdminWrapper:T["a"]}},D=F,z=(r("3a9e"),Object(y["a"])(D,n,s,!1,null,null,null));t["default"]=z.exports},"3a9e":function(e,t,r){"use strict";r("553f")},"553f":function(e,t,r){},5679:function(e,t,r){},"5d2a":function(e,t){var r=9007199254740991,n="[object Arguments]",s="[object Function]",i="[object GeneratorFunction]",o=/^(?:0|[1-9]\d*)$/;function a(e,t){var r=-1,n=Array(e);while(++r<e)n[r]=t(r);return n}function u(e,t){return function(r){return e(t(r))}}var c=Object.prototype,l=c.hasOwnProperty,d=c.toString,p=c.propertyIsEnumerable,h=u(Object.keys,Object);function m(e,t){var r=_(e)||w(e)?a(e.length,String):[],n=r.length,s=!!n;for(var i in e)!t&&!l.call(e,i)||s&&("length"==i||y(i,n))||r.push(i);return r}var v=x();function f(e,t){return e&&v(e,t,P)}function b(e,t,r,n){return f(e,(function(e,s,i){t(n,r(e),s,i)})),n}function g(e){if(!k(e))return h(e);var t=[];for(var r in Object(e))l.call(e,r)&&"constructor"!=r&&t.push(r);return t}function x(e){return function(t,r,n){var s=-1,i=Object(t),o=n(t),a=o.length;while(a--){var u=o[e?a:++s];if(!1===r(i[u],u,i))break}return t}}function $(e,t){return function(r,n){return b(r,e,t(n),{})}}function y(e,t){return t=null==t?r:t,!!t&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<t}function k(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||c;return e===r}function w(e){return V(e)&&l.call(e,"callee")&&(!p.call(e,"callee")||d.call(e)==n)}var _=Array.isArray;function C(e){return null!=e&&U(e.length)&&!j(e)}function V(e){return E(e)&&C(e)}function j(e){var t=O(e)?d.call(e):"";return t==s||t==i}function U(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function O(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function E(e){return!!e&&"object"==typeof e}var A=$((function(e,t,r){e[t]=r}),q(L));function P(e){return C(e)?m(e):g(e)}function q(e){return function(){return e}}function L(e){return e}e.exports=A},a1f7:function(e,t,r){"use strict";r("5679")}}]);