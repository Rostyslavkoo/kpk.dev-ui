(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40e56fca"],{"27ed":function(e,t,i){"use strict";var n=i("1da1"),r=(i("96cf"),i("bae0")),a="/api/specialty";t["a"]={addSpecialty:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].post("".concat(a,"/addSpecialty"),e);case 2:return i=t.sent,t.abrupt("return",null===i||void 0===i?void 0:i.data);case 4:case"end":return t.stop()}}),t)})))()},getAllSpecialty:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].post("".concat(a,"/getAllSpecialty"));case 2:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data);case 4:case"end":return e.stop()}}),e)})))()},updateSpecialty:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].post("".concat(a,"/updateSpecialty"));case 2:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data);case 4:case"end":return e.stop()}}),e)})))()},getById:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].post("".concat(a,"/getById"),e);case 2:return i=t.sent,t.abrupt("return",null===i||void 0===i?void 0:i.data);case 4:case"end":return t.stop()}}),t)})))()},searchSpecialty:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].post("".concat(a,"/searchSpecialty"),e);case 2:return i=t.sent,t.abrupt("return",null===i||void 0===i?void 0:i.data);case 4:case"end":return t.stop()}}),t)})))()}}},"37c8":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"specialities-card",on:{click:e.onClick}},[e.sceletonLoader?i("div",{staticClass:"card__title"},[i("v-skeleton-loader",{attrs:{type:"chip"}})],1):i("div",{staticClass:"card__title"},[i("div",{staticClass:"title__number"},[e._v(e._s("0"+e.indexSpecialitie||!1))]),i("div",{staticClass:"title__text"},[e._v(" "+e._s(e.specialitie.name||"--")+" ("+e._s(e.specialitie.number||"--")+") ")])]),e.sceletonLoader?i("div",[i("v-skeleton-loader",{staticClass:"mt-7",attrs:{type:"card",height:"300"}})],1):i("div",{staticClass:"card__img"},[i("img",{attrs:{src:e.specialitie.img}})]),e.edit?i("div",{staticClass:"card__arrow"},[i("VBtn",{attrs:{color:"primary"}},[i("VIcon",[e._v("mdi-square-edit-outline")])],1)],1):i("div",{staticClass:"card__arrow"},[i("VIcon",[e._v("mdi-arrow-bottom-left")])],1)])},r=[],a={name:"v-specialities-item",props:{specialitie:{type:Object,require:!1},indexSpecialitie:{require:!1},edit:{require:!1},sceletonLoader:{require:!1}},methods:{onClick:function(){this.$router.push({name:"main-speciality-page",params:{id:this.specialitie._id}})}}},s=a,c=(i("68b0"),i("2877")),l=Object(c["a"])(s,n,r,!1,null,null,null);t["a"]=l.exports},"68b0":function(e,t,i){"use strict";i("e4c6")},cc62:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AdminWrapper",[i("SpecialitiesComponent")],1)},r=[],a=i("a2db"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h-auto"},[i("div",{staticClass:"d-flex justify-space-between p-1 align-center"},[i("VBtn",{attrs:{rounded:"",text:"",color:"primary"}},[i("VIcon",{attrs:{left:""}},[e._v(" mdi-school-outline")]),e._v(" Список Спеціальностей ")],1),i("VBtn",{attrs:{rounded:"",color:"primary",outlined:""},on:{click:function(t){e.visible=!0}}},[i("VIcon",{attrs:{left:""}},[e._v("mdi-folder-account")]),e._v("Додати нову спеціальність")],1)],1),i("VDivider"),i("SpecialitiesList",{attrs:{specialitites:e.specialities,SceletonLoader:e.SceletonLoader}}),i("AddSpecialitiesDialog",{attrs:{visible:e.visible},on:{close:function(t){e.visible=!1},addSpeciality:e.addSpeciality}})],1)},c=[],l=i("1da1"),o=(i("96cf"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("VDialog",{attrs:{scrollable:""},on:{"click:outside":function(t){return e.$v.$reset()}},model:{value:e.visibility,callback:function(t){e.visibility=t},expression:"visibility"}},[i("VCard",{attrs:{width:"700"}},[i("VCardTitle",[e._v(" Додати нову спеціальність ")]),i("VCardText",[i("VRow",{staticClass:"my-5"},[i("VCol",[i("VTextField",{attrs:{label:"Назва спеціальності","prepend-icon":"mdi-clipboard-text",outlined:"",dense:"",counter:"70","error-messages":e.TitleError},model:{value:e.specialities.title,callback:function(t){e.$set(e.specialities,"title",t)},expression:"specialities.title"}})],1),i("VCol",[i("VTextField",{attrs:{label:"Номер спеціальності","prepend-icon":"mdi-counter",outlined:"",dense:"","error-messages":e.NumberError,type:"number"},model:{value:e.specialities.number,callback:function(t){e.$set(e.specialities,"number",t)},expression:"specialities.number"}})],1)],1),i("VRow",[i("VCol",[i("v-file-input",{attrs:{dense:"",counter:"",label:"Головна картинка",placeholder:"Головна картинка","prepend-icon":"mdi-camera",outlined:"",accept:"image/png, image/jpeg, image/svg","show-size":1e3,rules:e.rules,"error-messages":e.MainImageError},on:{change:e.onFileChange},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.index,r=t.text;return[n<2?i("v-chip",{attrs:{label:"",small:""}},[e._v(" "+e._s(r)+" ")]):2===n?i("span",{staticClass:"text-overline grey--text text--darken-3 mx-2"},[e._v(" +"+e._s(e.news.main_img.length-2)+" File(s) ")]):e._e()]}}]),model:{value:e.specialities.img,callback:function(t){e.$set(e.specialities,"img",t)},expression:"specialities.img"}})],1)],1),i("v-subheader",[e._v("Опис Інформація на кожному курсі")]),i("VRow",[i("VCol",[i("v-expansion-panels",{attrs:{multiple:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},e._l(4,(function(t,n){return i("v-expansion-panel",{key:n},[i("v-expansion-panel-header",[e._v(e._s(n+1)+" курс")]),i("v-expansion-panel-content",[i("v-textarea",{attrs:{outlined:"","auto-grow":"",label:"Опис діяльності на  "+(n+1)+" курсі",rows:"5","row-height":"20",counter:210,maxlength:"210"},model:{value:e.specialities.courses[n+1],callback:function(t){e.$set(e.specialities.courses,n+1,t)},expression:"specialities.courses[key + 1]"}})],1)],1)})),1)],1)],1),i("VRow",[e.showEditorText?i("VCol",[i("div",{staticClass:"editor-view",domProps:{innerHTML:e._s(e.specialities.content)}})]):i("VCol",[i("vue-editor",{model:{value:e.specialities.content,callback:function(t){e.$set(e.specialities,"content",t)},expression:"specialities.content"}})],1),i("VBtn",{attrs:{icon:"",color:"primary"},on:{click:function(t){e.showEditorText=!e.showEditorText}}},[i("VIcon",[e._v("mdi-eye")])],1)],1)],1),i("VCardActions",[i("VSpacer"),i("VBtn",{attrs:{text:"",color:"error"},on:{click:e.onCancel}},[e._v("Скасувати")]),i("VBtn",{attrs:{color:"primary",loading:e.isLoading,disabled:e.isLoading},on:{click:e.onCreate}},[e._v("Додати")])],1)],1)],1)}),u=[],p=i("5530"),d=(i("b0c0"),i("5873")),m=i("1dce"),v=i("b5ae"),f=i("27ed"),b={components:{VueEditor:d["a"]},mixins:[m["validationMixin"]],props:{visible:{require:!0}},validations:{specialities:{title:{maxLength:Object(v["maxLength"])(70),required:v["required"]},img:{required:v["required"]},number:{required:v["required"]}}},data:function(){return{isLoading:!1,specialities:{title:"",img:null,courses:{},content:"",number:""},showEditorText:!1,rules:[function(e){return!e||e.size<3e6||"Зображення повинне бути менше 3 MB!"}],panel:[0,1,2,3]}},methods:{onCancel:function(){this.$emit("close"),this.specialities={title:"",img:null,courses:{},content:"",number:""},this.$v.$reset()},onCreate:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.$touch(),e.$v.$invalid){t.next=22;break}return t.prev=2,e.isLoading=!0,i=[],i.name=e.specialities.title,i.img=e.base64image,i.courses=e.specialities.courses,i.content=e.specialities.content,i.number=e.specialities.number,t.next=12,f["a"].addSpecialty(Object(p["a"])({},i));case 12:n=t.sent,e.$emit("addSpeciality",n),e.$v.$reset(),e.specialities={title:"",img:null,courses:{},content:"",number:""},e.isLoading=!0,t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](2),alert(t.t0);case 22:case"end":return t.stop()}}),t,null,[[2,19]])})))()},onFileChange:function(e){var t=this;if(console.log(e),e){var i=new FileReader;i.readAsDataURL(e),i.onload=function(e){t.base64image=e.target.result}}}},computed:{visibility:{get:function(){return this.visible},set:function(){return this.$emit("close")}},TitleError:function(){var e=[];return this.$v.specialities.title.$dirty?this.$v.specialities.title.maxLength?(!this.$v.specialities.title.required&&e.push("Заголовок обов`язкове поле для заповнення"),e):(e.push("Довжина заголовку має бути менша за 70 символів"),e):e},NumberError:function(){var e=[];return this.$v.specialities.number.$dirty?(!this.$v.specialities.number.required&&e.push("Номер спеціальності обов`язкове поле для заповнення"),e):e},MainImageError:function(){var e=[];return this.$v.specialities.img.$dirty?(!this.$v.specialities.img.required&&e.push("Головна картинка обов`язкове поле для заповнення"),e):e}}},h=b,g=(i("e416"),i("2877")),x=Object(g["a"])(h,o,u,!1,null,"62d22166",null),_=x.exports,w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("VRow",{staticClass:"mt-5",attrs:{"no-gutters":"",justify:"space-around","justify-lg":"space-between"}},e._l(e.specialitites,(function(e,t){return i("VCol",{key:t,staticClass:"px-5 mb-5",attrs:{cols:"auto"}},[i("MySpecialitiesCard",{attrs:{specialitie:e,indexSpecialitie:t+1,edit:!0}})],1)})),1)],1)},y=[],C=i("37c8"),k={components:{MySpecialitiesCard:C["a"]},props:{specialitites:{require:!0}}},$=k,S=Object(g["a"])($,w,y,!1,null,null,null),V=S.exports,R=i("9c03"),L={mixins:[R["a"]],components:{AddSpecialitiesDialog:_,SpecialitiesList:V},data:function(){return{visible:!1,specialities:[],SceletonLoader:!1}},mounted:function(){this.getSpecialities()},methods:{addSpeciality:function(e){this.visible=!1,this.specialities.push(e),this.getSpecialities()},getSpecialities:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setLoading(!0),t.next=3,f["a"].getAllSpecialty();case 3:e.specialities=t.sent,e.setLoading(!1);case 5:case"end":return t.stop()}}),t)})))()}}},j=L,q=Object(g["a"])(j,s,c,!1,null,null,null),E=q.exports,O={components:{SpecialitiesComponent:E,AdminWrapper:a["a"]}},T=O,A=Object(g["a"])(T,n,r,!1,null,null,null);t["default"]=A.exports},e416:function(e,t,i){"use strict";i("f15d")},e4c6:function(e,t,i){},f15d:function(e,t,i){}}]);